<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <style>
            .container > div {
                margin: 10px;
            }
        </style>
    </head>
    <body>
        <pre>
        throw : ném ra 1 lỗi (custom)
        tự tạo ra một lỗi mới và mess

        finally : Không nhất thiết phải sử dụng finally 

    </pre
        >
        <div class="container">
            <h3>Ứng dụng BMI</h3>

            <div>
                <label for="">Nhập chiều cao (mét)</label>
                <input
                    type="text"
                    name="height"
                    id="height"
                    placeholder="123"
                />
            </div>

            <div>
                <label for="">Nhập cân nặng (kg)</label>
                <input
                    type="text"
                    name="weight"
                    id="weight"
                    placeholder="123"
                />
            </div>
            <div id="errors" style="color: red"></div>
            <div>
                <button id="calc">Tính chỉ số BMI</button>
            </div>
        </div>
        <script>
            document.getElementById("calc").onclick = function () {
                try {
                    var height = document.getElementById("height").value;
                    var weight = document.getElementById("weight").value;

                    if (
                        height == "" ||
                        weight == "" ||
                        height == 0 ||
                        weight == 0
                    ) {
                        throw "Dữ liệu chiều cao và cân năng chưa được nhập";
                    }

                    if (weight < 0 || height < 0) {
                        throw "Cân nặng và chiều cao không được âm";
                    }

                    // NaN = not a number không phải 1 số
                    if (isNaN(weight) || isNaN(height)) {
                        throw "weight hoặc height không phải là 1 số";
                    }
                } catch (err) {
                    alert("Có lỗi xảy ra " + err);
                    document.getElementById("errors").innerText =
                        `Có lỗi xảy ra ` + err;
                    // chuyển hướng hoặc console hoặc ... theo mong muốn khi gặp 1 lỗi ở phần try
                } finally {
                    document.getElementById("height").value = 0;
                    document.getElementById("weight").value = 0;
                }
                var bmi = weight / (height * height);
                // kết quả phân loại
                var result = "";
                if (bmi > 0 && bmi < 18.5) {
                    result = "Gầy";
                } else if (bmi >= 18.5 && bmi <= 24.9) {
                    result = "Bình thường";
                } else if (bmi > 24.9 && bmi <= 29.9) {
                    result = "tiền béo phì";
                } else if (bmi > 29.9 && bmi <= 34.9) {
                    result = "béo phì cấp 1";
                } else if (bmi > 34.9 && bmi <= 30.9) {
                    result = "béo phì cấp 2";
                } else {
                    result = "béo phì cấp 3";
                }

                alert("Kết quả BMI của bạn là " + bmi + ".Phân loại " + result);
            };
        </script>
    </body>
</html>
